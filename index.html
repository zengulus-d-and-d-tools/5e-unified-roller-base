<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Unified 5e Sheet v4.8</title>
    <meta name="theme-color" content="#1e1e1e">

    <link rel="stylesheet" href="css/theme.css">
    <link rel="stylesheet" href="css/index.css">

</head>

<body>
    <canvas id="vector-cloud"></canvas>
    <header class="hero-header roller-header" id="rollerBar">
        <div>
            <p class="hero-eyebrow">Unified 5e Roller</p>
            <h1>Command Console</h1>
            <p class="hero-subtitle">Dial in advantage state, secret rolls, and background vibes while the accent palette keeps everything in sync.</p>
        </div>
        <div class="hero-actions roller-actions">
            <div class="hero-action-bar primary">
                <a href="tools.html" class="hero-btn ghost">Portal</a>
            </div>
            <div class="hero-action-bar secondary">
                <button class="hero-btn ghost" onclick="triggerAccentPicker()">üé® Accent</button>
                <button class="hero-btn ghost" id="btn-bg-style" onclick="cycleBgStyle()">üåå BG: Field</button>
            </div>
        </div>
        <input type="color" id="accent-picker-input" style="visibility:hidden; width:0; height:0; position:absolute;"
            onchange="setAccentColor(this.value)">
    </header>
    <section class="roll-log-panel">
        <div class="roll-log-card" id="logArea">
            <div class="log-panel-meta">
                <p class="log-eyebrow">Roll Log</p>
                <p class="log-hint">Latest throws stay pinned here while the controls beside it handle advantage, secrets, and misc bonuses.</p>
            </div>
            <div class="roll-strip">
                <div class="log-area">
                    <div class="log-formula">Ready...</div>
                    <div class="log-result">-</div>
                </div>
                <div class="control-block roll-block">
                    <span class="control-label">Advantage Mode</span>
                    <div class="adv-controls"><button class="adv-btn" onclick="setMode('dis')" data-mode="dis">DIS</button><button
                            class="adv-btn active" onclick="setMode('norm')" data-mode="norm">NORM</button><button class="adv-btn"
                            onclick="setMode('adv')" data-mode="adv">ADV</button></div>
                </div>
                <div class="control-block roll-block">
                    <span class="control-label">Utilities</span>
                    <div class="control-chip-row"><button id="btnSecret" class="chip-btn" data-chip="secret"
                            onclick="toggleSecret()" title="Secret Roll (Discord Spoilers)">üëÅÔ∏è Secret</button>
                    </div>
                </div>
                <div class="control-block roll-block">
                    <span class="control-label">Misc Bonus</span>
                    <div class="misc-wrapper"><input type="text" id="globalMisc" placeholder="+0 or 1d4"></div>
                </div>
            </div>
        </div>
    </section>
    <div class="sheet-container">
        <!-- START CREATE BUTTON --><button onclick="openCharCreator()"
            style="background:var(--res-bar); color:#fff; width:100%; padding:15px; font-size:1.1rem; border:1px solid #2ecc71; box-shadow:0 4px 10px rgba(46, 204, 113, 0.2); margin-bottom:5px;">‚ú®
            Start a new character </button>
        <div class="card" id="card-vitals">
            <div class="drag-grip"></div>
            <div class="char-switcher-row"><select id="charSelect"
                    onchange="switchCharacter(this.value)"></select><button class="btn-char-control btn-char-add"
                    onclick="createNewCharacter()">+</button><button class="btn-char-control btn-char-del"
                    onclick="deleteCharacter()">üóëÔ∏è</button></div>
            <div class="header-grid">
                <div class="field-group"><label>Character Name</label><input type="text" id="charName"
                        placeholder="Name" oninput="save()"></div>
                <div class="field-group"><label>Level</label><input type="number" id="charLevel" value="1"
                        oninput="updateLevel(this.value)"></div>
                <div class="field-group"><label>Caster Type</label><select id="casterType" onchange="save()">
                        <option value="none">None</option>
                        <option value="full">Full Caster</option>
                        <option value="half">Half (Pal/Rgr)</option>
                        <option value="third">1/3 (AT/EK)</option>
                        <option value="pact">Warlock</option>
                    </select></div>
            </div>
            <div class="section-title mt-2">Vitals & Health</div>
            <div class="hp-visual-bar">
                <div class="hp-fill-curr" id="barCurr"></div>
                <div class="hp-fill-temp" id="barTemp"></div>
                <div class="hp-text-overlay" id="barText"></div>
            </div>
            <div class="hp-grid">
                <div class="field-group hp-box"><label>Current</label><input type="number" id="hpCurr"
                        style="color:var(--hp-curr);" placeholder="0" oninput="updateHP()"></div>
                <div class="field-group hp-box">
                    <label class="hp-label-row">
                        Max
                        <span class="hp-auto-span" title="Auto-Calculate HP based on Class/Con/Level">
                            (Auto <input type="checkbox" id="hpAutoToggle" onchange="toggleAutoHP()">)
                        </span>
                    </label>
                    <input type="number" id="hpMax" placeholder="0" oninput="updateHP()">
                    <!-- Hidden Bonus HP Logic -->
                    <div id="hpBonusContainer" style="display:none; margin-top:2px;"><input type="number"
                            id="hpBonusPerLevel" placeholder="+HP/Lvl" title="Bonus HP Per Level"
                            style="font-size:0.7rem; height:20px; padding:0; color:var(--gold); border:1px solid #444;"
                            oninput="updateHP()"></div>
                </div>
                <div class="field-group hp-box"><label>Temp</label><input type="number" id="hpTemp"
                        style="color:var(--hp-temp);" placeholder="0" oninput="updateHP()"></div>
                <div class="field-group hp-box"><label style="color:var(--gold);">Insp</label>
                    <div style="display:flex; height:100%;"><input type="number" id="inspirationVal"
                            style="color:var(--gold); border-color: #555; border-right:none; border-radius:6px 0 0 6px; flex:1; min-width:0; text-align:center;"
                            value="0" oninput="save()"><button onclick="useInspiration()"
                            style="width:50px; background:var(--gold); color:#111; border:1px solid var(--gold); border-radius:0 6px 6px 0; font-size:1.4rem; cursor:pointer; padding:0; display:grid; place-items:center; flex-shrink:0;">‚ö°</button>
                    </div>
                </div>
            </div>
            <div class="hp-manage-row"><button class="btn-dmg" onclick="modifyHP(true)">Dmg</button><button
                    class="btn-hp-quick" onclick="modifyHP(true, 1)">-1</button><input type="number" id="hpInteractVal"
                    placeholder="Amt"><button class="btn-hp-quick" onclick="modifyHP(false, 1)">+1</button><button
                    class="btn-heal" onclick="modifyHP(false)">Heal</button></div>
            <div class="death-save-row" id="deathSaveRow" style="display:none;"><button class="btn-ds-roll"
                    onclick="rollDeathSave()">Roll DS</button>
                <div class="ds-group"><span style="font-size:0.6rem; color:#2ecc71;">SUCC</span><input type="checkbox"
                        class="ds-check ds-succ" id="ds-s1" onchange="save()"><input type="checkbox"
                        class="ds-check ds-succ" id="ds-s2" onchange="save()"><input type="checkbox"
                        class="ds-check ds-succ" id="ds-s3" onchange="save()"></div>
                <div class="ds-group"><span style="font-size:0.6rem; color:#e74c3c;">FAIL</span><input type="checkbox"
                        class="ds-check ds-fail" id="ds-f1" onchange="save()"><input type="checkbox"
                        class="ds-check ds-fail" id="ds-f2" onchange="save()"><input type="checkbox"
                        class="ds-check ds-fail" id="ds-f3" onchange="save()"></div>
            </div>
        </div>
        <div class="card" id="card-ac">
            <div class="drag-grip"></div>
            <div class="section-title">
                <span>Armor Class</span>
                <span class="ac-val-big" id="acTotalDisplay"
                    style="position:absolute; right:10px; top:50%; transform:translateY(-50%);">10</span>
            </div>
            <label style="font-size:0.7rem; display:flex; align-items:center; gap:5px; margin-bottom:10px;"><input
                    type="checkbox" id="acCustomToggle" onchange="toggleACMode()">Use Custom Formula (Monk/Barb)
            </label>
            <div id="acStdControls" class="grid-6"
                style="margin-bottom:10px; border-bottom:1px solid #333; padding-bottom:10px;">
                <div class="field-group span-2"><label>Base AC (Armor)</label><input type="number" id="acBase"
                        value="10" placeholder="10" oninput="updateAC()"></div>
                <div class="field-group span-2"><label>Dex Cap</label><select id="acDexCap" onchange="updateAC()"
                        style="padding:5px;">
                        <option value="100">None (Light)</option>
                        <option value="2">Max+2 (Med)</option>
                        <option value="0">0 (Heavy)</option>
                    </select></div>
                <div class="field-group span-2"><label>Dex Mod</label>
                    <div class="read-only-box" id="acDexModDisp" style="text-align:center; color:#888;">+0</div>
                </div>
            </div>
            <div id="acCustomControls" class="grid-6"
                style="display:none; margin-bottom:10px; border-bottom:1px solid #333; padding-bottom:10px;">
                <div class="field-group span-2"><label>Base (10)</label>
                    <div class="read-only-box" style="text-align:center;">10</div>
                </div>
                <div class="field-group span-2"><label>Stat 1</label><select id="acStat1" onchange="updateAC()"
                        style="padding:5px;"></select></div>
                <div class="field-group span-2"><label>Stat 2 (Opt)</label><select id="acStat2" onchange="updateAC()"
                        style="padding:5px;"></select></div>
            </div>
            <div id="acBonusList"></div><button class="add-btn"
                style="background:#333; color:#ccc; border:1px solid #444;" onclick="addAcBonus()">+Add Bonus
                (Shield, Magic, etc)</button>
        </div>
        <div class="card" id="card-rest">
            <div class="drag-grip"></div>
            <div class="section-title">Rest & Hit Dice</div>
            <div class="hd-row"><label style="margin:0;">Hit Dice:</label><input type="text" id="hdDie"
                    style="width:40px; text-align:center;" placeholder="d8" oninput="save()"><input type="number"
                    id="hdCurr" class="hd-val" placeholder="C" oninput="save()"><span>/</span><input type="number"
                    id="hdMax" class="hd-val" placeholder="M" oninput="save()"><button class="btn-roll-hd"
                    onclick="rollHitDie()">üé≤ Roll HD</button></div>
            <div class="rest-row"><button class="btn-rest" onclick="shortRest()">Short Rest</button><button
                    class="btn-rest" onclick="longRest()">Long Rest</button></div>
        </div>
        <div class="card" id="card-combat">
            <div class="drag-grip"></div>
            <div class="section-title" id="head-combat">
                <span>Combat Stats & Resources</span>
                <span class="accordion-trigger-abs" onclick="toggleSection('combat')"></span>
            </div>
            <div class="accordion-content" id="body-combat">
                <div class="combat-row">
                    <div class="field-group"><label>Initiative</label>
                        <div style="display:flex; gap:5px;"><input type="text" id="initBonus" placeholder="+0"
                                oninput="save()"><button class="btn-sm-roll" style="width:40px;"
                                onclick="rollInitiative()">üé≤</button></div>
                    </div>
                    <div class="field-group"><label>Speed (ft)</label><input type="text" id="speedVal" placeholder="30"
                            oninput="save()"></div>
                    <div class="field-group"><label>Spell DC</label>
                        <div class="read-only-box" id="globalDC" style="text-align:center; color:var(--slot);">--
                        </div>
                    </div>
                </div>
                <div class="section-title" style="border:none; font-size:0.7rem;">Class Resources / Ammo</div>
                <div id="resourceList" class="resource-list"></div><button class="add-btn"
                    style="background: #2c3e50; color: #fff; margin-top:10px;" onclick="addResource()">+Add
                    Counter</button>
            </div>
        </div>
        <div class="card" id="card-attr">
            <div class="drag-grip"></div>
            <div class="section-title" id="head-attr">
                <span>Attributes</span>
                <span class="accordion-trigger-abs" onclick="toggleSection('attr')"></span>
            </div>
            <div class="accordion-content" id="body-attr">
                <div class="grid-6" id="statsGrid"></div>
            </div>
        </div>
        <!-- ACTIVE EFFECTS CARD -->
        <div class="card" id="card-buffs">
            <div class="drag-grip"></div>
            <div class="section-title"><span>Active Effects / Buffs</span>
                <span class="accordion-trigger-abs" onclick="toggleAccordion(this)"></span>
            </div>
            <div class="accordion-content">
                <div style="display:grid; grid-template-columns: 1fr 1fr; gap:10px; margin-bottom:10px;"><label
                        style="display:flex; align-items:center; gap:10px; background:rgba(255,255,255,0.05); padding:10px; border-radius:8px; cursor:pointer;"><input
                            type="checkbox" class="ds-check buff-check" id="buffBless" onchange="updateBuffs()"><span
                            style="font-weight:bold; color:#a29bfe;">Bless (+1d4)</span></label><label
                        style="display:flex; align-items:center; gap:10px; background:rgba(255,255,255,0.05); padding:10px; border-radius:8px; cursor:pointer;"><input
                            type="checkbox" class="ds-check buff-check" id="buffGuidance" onchange="updateBuffs()"><span
                            style="font-weight:bold; color:#a29bfe;">Guidance (+1d4)</span></label></div>
                <div class="row"><input type="text" id="buffGlobal" placeholder="Global Mod (e.g. +2, -1d4)"
                        onchange="updateBuffs()" style="text-align:center; font-weight:bold;"></div>
            </div>
        </div>
        <!-- SETTINGS / VISIBILITY -->
        <div class="card" id="card-settings">
            <div class="drag-grip"></div>
            <div class="section-title"><span>Sheet Settings</span><span class="accordion-trigger-abs collapsed"
                    onclick="toggleAccordion(this)"></span></div>
            <div class="accordion-content collapsed"><label
                    style="display:flex; align-items:center; gap:10px; margin-bottom:10px;">
                    <div class="toggle-switch"><input type="checkbox" id="showHiddenCards"
                            onchange="toggleShowHidden(this.checked)"><span class="slider"></span></div>
                    <span style="font-weight:bold;">Show Hidden Cards</span>
                </label>
                <div style="border-top:1px solid rgba(255,255,255,0.1); padding-top:10px; margin-top:10px;">
                    <div class="field-group"><label>Discord Webhook</label><input type="text" id="webhookUrl"
                            placeholder="https://discord.com/api/webhooks/..." oninput="save()"></div><label
                        class="discord-toggle" id="discordLabel"
                        style="display:flex; align-items:center; gap:8px; margin:10px 0; color:#aaa; font-size:0.9rem;"><input
                            type="checkbox" id="sendToDiscord" onchange="toggleDiscord(this.checked)"><span>Active (Send
                            to
                            Discord)</span></label>
                </div>
            </div>
        </div>
        <div class="card" id="card-atk">
            <div class="drag-grip"></div>
            <div class="section-title" id="head-atk">
                <span>Attacks</span>
                <span class="accordion-trigger-abs" onclick="toggleSection('atk')"></span>
            </div>
            <div class="accordion-content" id="body-atk">
                <div id="attackList"></div><button class="add-btn" onclick="addAttack()">+Add Weapon /
                    Spell</button>
            </div>
        </div>
        <div class="card" id="card-feats">
            <div class="drag-grip"></div>
            <div class="section-title" id="head-feats">
                <span>Features & Traits</span>
                <span class="accordion-trigger-abs" onclick="toggleSection('feats')"></span>
            </div>
            <div class="accordion-content" id="body-feats">
                <div id="featureList"></div><button class="add-btn" style="background: var(--accent-feat); color: #fff;"
                    onclick="addFeature()">+Add
                    Feature</button>
            </div>
        </div>
        <div class="card" id="card-spells">
            <div class="drag-grip"></div>
            <div class="section-title" id="head-spells">
                <span>Spell Slots</span>
                <span class="accordion-trigger-abs" onclick="toggleSection('spells')"></span>
            </div>
            <div class="accordion-content" id="body-spells">
                <div style="margin-bottom:10px; display:flex; justify-content:flex-end;"><button
                        onclick="calcSpellSlots()"
                        style="background:#2c3e50; color:#fff; font-size:0.7rem; height:30px; padding:0 10px;">Auto-Calc
                        Slots (From Level)</button></div>
                <div id="spellSlotsList"></div>
            </div>
        </div>
        <div class="card" id="card-skills">
            <div class="drag-grip"></div>
            <div class="section-title" id="head-skills">
                <span>Skills</span>
                <span class="accordion-trigger-abs" onclick="toggleSection('skills')"></span>
            </div>
            <div class="accordion-content" id="body-skills">
                <div class="skill-list" id="skillGrid"></div>
            </div>
        </div>
        <div class="card" id="card-roller">
            <div class="drag-grip"></div>
            <div class="section-title" id="head-roller">
                <span>Arbitrary Roller</span>
                <span class="accordion-trigger-abs" onclick="toggleSection('roller')"></span>
            </div>
            <div class="accordion-content" id="body-roller">
                <div class="custom-roll-row" style="margin-bottom:10px;"><input type="text" id="customLabel"
                        placeholder="Optional Label (e.g. Healing Potion)"></div>
                <div class="dice-grid"><button class="dice-btn"
                        onclick="rollDie(4,0,'d4',false,'check')">d4</button><button class="dice-btn"
                        onclick="rollDie(6,0,'d6',false,'check')">d6</button><button class="dice-btn"
                        onclick="rollDie(8,0,'d8',false,'check')">d8</button><button class="dice-btn"
                        onclick="rollDie(10,0,'d10',false,'check')">d10</button><button class="dice-btn"
                        onclick="rollDie(12,0,'d12',false,'check')">d12</button><button class="dice-btn"
                        onclick="rollDie(20,0,'d20',true,'check')">d20</button><button class="dice-btn"
                        onclick="rollDie(100,0,'d100',false,'check')">d100</button></div>
                <div class="custom-roll-row"><input type="text" id="customFormula" placeholder="e.g. 4d6r1d1"><button
                        class="btn-roll-custom" onclick="rollCustom()">Roll</button></div>
            </div>
        </div>
        <div class="card io-card" id="card-io">
            <div class="drag-grip"></div>
            <div class="section-title" id="head-io">
                <span>Backup Data</span>
                <span class="accordion-trigger-abs" onclick="toggleSection('io')"></span>
            </div>
            <div class="accordion-content" id="body-io">
                <div class="field-group"><label>Player Name (For Log)</label><input type="text" id="playerName"
                        placeholder="Your Name" oninput="save()"></div><textarea id="ioField" rows="2"
                    placeholder="Save string..."
                    style="width:100%; font-family:monospace; color:var(--accent); resize:none; margin-top:10px;"></textarea>
                <div style="display:flex; gap:10px; margin-top:10px;"><button
                        style="flex:1; background:#333; color:#ccc;" onclick="exportData()">Copy
                        Save</button><button style="flex:1; background:var(--accent); color:#000;"
                        onclick="importData()">Load Save</button></div>
                <div id="ioMsg" style="text-align:center; color: var(--accent); font-size:0.8rem; margin-top:8px;">
                </div>
            </div>
        </div>
    </div>

    <!-- CHARACTER CREATOR MODAL -->
    <div class="modal-overlay" id="charCreatorModal">
        <div class="modal-content">
            <div class="modal-header"><span>‚ú® New Character</span><span onclick="closeCharCreator()"
                    style="cursor:pointer;">&times;
                </span></div>
            <div class="modal-body">
                <!-- STEP 1: METHOD & STATS -->
                <div class="wizard-step active" id="step1">
                    <h3 style="margin-top:0;">1. Ability Scores</h3>
                    <div id="methodSelection"><button class="gen-method-btn"
                            onclick="selectGenMethod('elite')"><strong>Elite Array</strong>
                            <div>Standard set: 15,
                                14,
                                13,
                                12,
                                10,
                                8</div>
                        </button><button class="gen-method-btn" onclick="selectGenMethod('roll')"><strong>Roll
                                4d6 (Drop Lowest, Reroll 1s)</strong>
                            <div>Generates 6 random numbers between 6-18</div>
                        </button></div>
                    <div id="statAssignment" style="display:none;"><button onclick="resetStep1()"
                            style="background:transparent; color:#888; font-size:0.8rem; margin-bottom:10px; border:none; padding:0; text-decoration:underline;">&larr;
                            Back to Method</button>
                        <div class="stat-pool" id="statPool"></div>
                        <div class="creator-section-title">Assign to Stats</div>
                        <div id="statAssignRows"></div>
                    </div>
                </div>
                <!-- STEP 2: RACE -->
                <div class="wizard-step" id="step2">
                    <h3 style="margin-top:0;">2. Race & Modifiers</h3>
                    <div class="header-grid" style="grid-template-columns: 1fr 1fr; margin-bottom:15px;">
                        <div class="field-group"><label>Race</label><input type="text" id="ccRace"
                                placeholder="e.g. Mountain Dwarf"></div>
                        <div class="field-group"><label>Subrace</label><input type="text" id="ccSubrace"
                                placeholder="Optional"></div>
                    </div>
                    <div class="creator-section-title">Racial Ability Modifiers</div>
                    <div class="race-mod-grid">
                        <div class="race-mod-input"><label>STR</label><input type="number" id="ccModStr" value="0">
                        </div>
                        <div class="race-mod-input"><label>DEX</label><input type="number" id="ccModDex" value="0">
                        </div>
                        <div class="race-mod-input"><label>CON</label><input type="number" id="ccModCon" value="0">
                        </div>
                        <div class="race-mod-input"><label>INT</label><input type="number" id="ccModInt" value="0">
                        </div>
                        <div class="race-mod-input"><label>WIS</label><input type="number" id="ccModWis" value="0">
                        </div>
                        <div class="race-mod-input"><label>CHA</label><input type="number" id="ccModCha" value="0">
                        </div>
                    </div>
                    <div class="creator-section-title">Racial Features</div>
                    <div id="ccRaceFeatsList" class="cc-feat-list"></div>
                    <div style="display:flex; gap:5px;">
                        <input type="text" id="ccRFeatName" placeholder="Trait Name (e.g. Darkvision)" style="flex:1;">
                        <button onclick="addCcFeat('race')" style="width:60px;">Add</button>
                    </div>
                    <textarea id="ccRFeatDesc" placeholder="Description..."
                        style="height:60px; margin-top:5px;"></textarea>
                </div>
                <!-- STEP 3: CLASS -->
                <div class="wizard-step" id="step3">
                    <h3 style="margin-top:0;">3. Class & HP</h3>
                    <div class="header-grid" style="grid-template-columns: 2fr 1fr; margin-bottom:15px;">
                        <div class="field-group"><label>Class</label><input type="text" id="ccClass"
                                placeholder="e.g. Fighter"></div>
                        <div class="field-group"><label>Level</label><input type="number" id="ccLevel" value="1" min="1"
                                max="20" onchange="ccUpdateHPPreview()"></div>
                    </div>
                    <div class="header-grid" style="grid-template-columns: 1fr 1fr; margin-bottom:15px;">
                        <div class="field-group"><label>Hit Die</label><select id="ccHitDie"
                                onchange="ccUpdateHPPreview()">
                                <option value="6">d6 (Wiz/Sorc)</option>
                                <option value="8">d8 (Rog/Clr/Mnk)</option>
                                <option value="10">d10 (Ftr/Pal/Rgr)</option>
                                <option value="12">d12 (Barb)</option>
                            </select></div>
                        <div class="field-group"><label>Caster Type</label><select id="ccCaster">
                                <option value="none">None</option>
                                <option value="full">Full Caster</option>
                                <option value="half">Half Caster</option>
                                <option value="third">1/3 Caster</option>
                                <option value="pact">Pact Magic</option>
                            </select></div>
                    </div>
                    <div class="card" style="margin-bottom:15px; background:rgba(0,0,0,0.2);">
                        <div class="hp-auto-row" style="margin-bottom:5px;"><input type="checkbox" id="ccAutoHP" checked
                                onchange="ccUpdateHPPreview()"><span style="flex:1;">Use Auto HP
                                Calculation</span>Bonus/Lvl: <input type="number" id="ccBonusHP" value="0"
                                oninput="ccUpdateHPPreview()">
                        </div>
                        <div id="ccHpPreview"
                            style="font-size:0.9rem; text-align:center; color:#888; font-style:italic;">
                            Calculated Max HP: <span
                                style="color:var(--hp-max); font-weight:bold; font-size:1.1rem;">--</span>
                        </div>
                        <div style="font-size:0.7rem; color:#666; margin-top:5px; text-align:center;">
                            Lvl 1: Max Die+Con. Other Lvls: Avg Die+Con. </div>
                    </div>
                    <div class="creator-section-title">Class Features</div>
                    <div id="ccClassFeatsList" class="cc-feat-list"></div>
                    <div style="display:flex; gap:5px;">
                        <input type="text" id="ccCFeatName" placeholder="Feature Name (e.g. Second Wind)"
                            style="flex:1;">
                        <button onclick="addCcFeat('class')" style="width:60px;">Add</button>
                    </div>
                    <textarea id="ccCFeatDesc" placeholder="Description..."
                        style="height:60px; margin-top:5px;"></textarea>
                </div>
                <!-- STEP 4: SKILLS -->
                <div class="wizard-step" id="step4">
                    <h3 style="margin-top:0;">4. Skill Proficiencies</h3>
                    <p style="font-size:0.8rem; color:#aaa; margin-top:-10px;">Select learned skills.</p>
                    <div id="ccValidSkills" class="skills-grid"></div>
                </div>
                <!-- STEP 4: REVIEW -->
                <!-- STEP 5: REVIEW -->
                <div class="wizard-step" id="step5">
                    <h3 style="margin-top:0;">5. Review</h3>
                    <div id="ccReviewSummary"
                        style="background:#222; padding:15px; border-radius:8px; border:1px solid #444; line-height:1.6;">
                    </div>
                </div>
            </div>
            <div class="modal-footer"><button id="btnPrev" onclick="ccPrev()"
                    style="background:#333; color:#ccc; min-width:80px;">Previous</button><button id="btnNext"
                    onclick="ccNext()"
                    style="background:var(--accent); color:#000; min-width:80px;">Next</button><button id="btnFinish"
                    onclick="ccFinish()"
                    style="background:var(--res-bar); color:#fff; min-width:100px; display:none;">Create !</button>
            </div>
        </div>
    </div>
    <script src="js/index.js"></script>
    <script src="js/vector-field.js"></script>
</body>

</html>
