<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="manifest" href="manifest.json">
    <title>Campaign Hub</title>
    <link rel="stylesheet" href="css/theme.css">
    <link rel="stylesheet" href="css/hub.css">
    <link rel="stylesheet" href="css/hub-page.css">
</head>

<body>
    <canvas id="vector-cloud"></canvas>

    <div class="container">
        <header class="hero-header">
            <div>
                <p class="hero-eyebrow">Campaign Tools</p>
                <h1>Campaign Hub</h1>
                <p class="hero-subtitle">A campaign dashboard for tracking status, notes, and between-session updates.</p>
            </div>
            <div class="hero-actions">
                <div class="hero-action-bar primary">
                    <a class="hero-btn ghost" href="tools.html">Portal</a>
                    <a class="hero-btn ghost" href="player-dashboard.html">Dashboard</a>
                    <button class="hero-btn ghost" data-onclick="exportData()">ðŸ’¾ Export</button>
                    <button class="hero-btn ghost" data-onclick="importData()">ðŸ“‚ Import</button>
                </div>
                <div class="hero-action-bar secondary">
                    <button class="hero-btn ghost" data-onclick="triggerAccentPicker()">ðŸŽ¨ Accent</button>
                    <button class="hero-btn ghost" id="btn-bg-style" data-onclick="cycleBgStyle()">ðŸŒŒ BG: Field</button>
                </div>
                <input type="color" id="accent-picker-input"
                    class="hub-accent-picker-input" data-onchange="setAccentColor(this.value)">
            </div>
        </header>
        <div class="card">
            <h2>Case Prep: One-Page Template</h2>
            <div class="case-grid">
                <div class="case-field"><span class="mini-label">Title / Logline</span><input type="text" id="caseTitle"
                        data-onchange="saveCase()"></div>
                <div class="case-field"><span class="mini-label">Groups in Conflict</span><input type="text"
                        id="caseGuilds" data-onchange="saveCase()"></div>
                <div class="case-field"><span class="mini-label">Antagonist Objective</span><textarea id="caseGoal"
                        rows="2" data-onchange="saveCase()"></textarea></div>
                <div class="case-field"><span class="mini-label">Clock (0-6 Events)</span><textarea id="caseClock"
                        rows="2" placeholder="At 2/4/6..." data-onchange="saveCase()"></textarea></div>
            </div>
            <div class="case-grid">
                <div class="case-field"><span class="mini-label">Obstacles (Legal & Physical)</span><textarea
                        id="caseObstacles" data-onchange="saveCase()"></textarea></div>
                <div class="case-field"><span class="mini-label">Set Piece (Terrain + Timer)</span><textarea
                        id="caseSetPiece" data-onchange="saveCase()"></textarea></div>
            </div>
        </div>

        <div class="card">
            <h2>Global Status</h2>
            <div class="grid-5" id="repGrid"></div>
            <div class="hub-status-heat-wrap">
                <div class="hub-status-heat-head">
                    <span class="mini-label">Activity Level (0-6)</span>
                    <div>
                        <button class="btn" data-onclick="modHeat(-1)">-</button>
                        <span id="heatVal" class="hub-heat-val">0</span>
                        <button class="btn" data-onclick="modHeat(1)">+</button>
                    </div>
                </div>
                <div id="heatMeter" class="hub-heat-meter">
                    <div id="heatFill" class="hub-heat-fill">
                    </div>
                </div>
                <p id="heatWarning" class="hub-heat-warning">
                </p>
            </div>
        </div>



        <div class="card">
            <h2>Player Roster <button class="btn" data-onclick="addPlayer()">+ Add Player</button></h2>
            <div id="rosterList"></div>
            <div class="hub-roster-actions">
                <button class="btn-dp hub-btn-dp-wide" data-onclick="grantWeeklyDP()">End
                    Case: Grant +2 DP</button>
                <button class="btn btn-danger" data-onclick="resetAll()">âš  Reset Hub</button>
            </div>
        </div>
    </div>
    <script src="js/delegated-handler.js"></script>
    <script src="js/sw-register.js"></script>
    <script src="js/store.js"></script>
    <script src="js/hub.js"></script>
    <script src="js/vector-field.js"></script>
</body>

</html>
